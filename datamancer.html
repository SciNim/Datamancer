<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nim. -->
<html xmlns="https://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>datamancer</title>

<!-- Favicon -->
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
<link rel="icon" type="image/png" sizes="32x32" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4QQQEwksSS9ZWwAAAk1JREFUWMPtll2ITVEUx39nn/O7Y5qR8f05wtCUUr6ZIS++8pEnkZInPImneaCQ5METNdOkeFBKUhMPRIkHKfEuUZSUlGlKPN2TrgfncpvmnntnmlEyq1Z7t89/rf9a6+y99oZxGZf/XeIq61EdtgKXgdXA0xrYAvBjOIF1AI9zvjcC74BSpndrJPkBWDScTF8Aa4E3wDlgHbASaANmVqlcCnwHvgDvgVfAJ+AikAAvgfVZwLnSVZHZaOuKoQi3ZOMi4NkYkpe1p4J7A8BpYAD49hfIy/oqG0+hLomiKP2L5L+1ubn5115S+3OAn4EnwBlgMzCjyt6ZAnQCJ4A7wOs88iRJHvw50HoujuPBoCKwHWiosy8MdfZnAdcHk8dxXFJ3VQbQlCTJvRBCGdRbD4M6uc5glpY3eAihpN5S5w12diSEcCCEcKUO4ljdr15T76ur1FDDLIQQ3qv71EdDOe3Kxj3leRXyk+pxdWnFWod6Wt2bY3de3aSuUHcPBVimHs7mK9WrmeOF6lR1o9qnzskh2ar2qm1qizpfXaPeVGdlmGN5pb09qMxz1Xb1kLqgzn1RyH7JUXW52lr5e/Kqi9qpto7V1atuUzfnARrV7jEib1T76gG2qxdGmXyiekkt1GswPTtek0aBfJp6YySGBfWg2tPQ0FAYgf1stUfdmdcjarbYJEniKIq6gY/Aw+zWHAC+p2labGpqiorFYgGYCEzN7oQdQClN07O1/EfDyGgC0ALMBdYAi4FyK+4H3gLPsxfR1zRNi+NP7nH5J+QntnXe5B5mpfQAAAAASUVORK5CYII=">

<!-- Google fonts -->
<link href='https://fonts.googleapis.com/css?family=Lato:400,600,900' rel='stylesheet' type='text/css'/>
<link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'/>

<!-- CSS -->
<link rel="stylesheet" type="text/css" href="nimdoc.out.css">

<!-- JS -->
<script type="text/javascript" src="dochack.js"></script>
</head>
<body>
  <div class="document" id="documentId">
    <div class="container">
      <h1 class="title">datamancer</h1>
      <div class="row">
  <div class="three columns">
    <div class="theme-switch-wrapper">
      <label class="theme-switch" for="checkbox">
        <input type="checkbox" id="checkbox" />
        <div class="slider round"></div>
      </label>
      &nbsp;&nbsp;&nbsp; <em>Dark Mode</em>
    </div>
    <div id="global-links">
      <ul class="simple">
        <li><a href="theindex.html">Index</a></li>
      </ul>
    </div>
    <div id="searchInputDiv">
      Search: <input type="search" id="searchInput" onkeyup="search()"/>
    </div>
    <div>
      Group by:
      <select onchange="groupBy(this.value)">
        <option value="section">Section</option>
        <option value="type">Type</option>
      </select>
    </div>
    <ul class="simple simple-toc" id="toc-list">
  <li><a class="reference" id="datamancer-overview_toc" href="#datamancer-overview">Datamancer overview</a></li>
<ul class="simple"><li><a class="reference" id="datamancer-overview-what-is-a-dataframeqmark_toc" href="#datamancer-overview-what-is-a-dataframeqmark">What is a dataframe?</a></li>
<li><a class="reference" id="datamancer-overview-what-is-the-point-of-a-dataframeqmark_toc" href="#datamancer-overview-what-is-the-point-of-a-dataframeqmark">What is the point of a dataframe?</a></li>
<li><a class="reference" id="datamancer-overview-creating-a-dataframe_toc" href="#datamancer-overview-creating-a-dataframe">Creating a dataframe</a></li>
<ul class="simple"><li><a class="reference" id="creating-a-dataframe-supported-datatypes-and-internal-representation_toc" href="#creating-a-dataframe-supported-datatypes-and-internal-representation">Supported datatypes and internal representation</a></li>
<li><a class="reference" id="creating-a-dataframe-from-seq-t-slashtensor-t_toc" href="#creating-a-dataframe-from-seq-t-slashtensor-t">From <tt class="docutils literal"><span class="pre">seq[T]/Tensor[T]</span></tt></a></li>
<li><a class="reference" id="creating-a-dataframe-from-a-csv-slash-tsv-file_toc" href="#creating-a-dataframe-from-a-csv-slash-tsv-file">From a CSV / TSV file</a></li>
</ul><li><a class="reference" id="datamancer-overview-manipulating-a-df_toc" href="#datamancer-overview-manipulating-a-df">Manipulating a DF</a></li>
<li><a class="reference" id="datamancer-overview-formula_toc" href="#datamancer-overview-formula">Formula</a></li>
</ul><li>
  <a class="reference reference-toplevel" href="#6" id="56">Imports</a>
</li>
<li>
  <a class="reference reference-toplevel" href="#19" id="69">Exports</a>
</li>

</ul>

  </div>
  <div class="nine columns" id="content">
    <a href="https://github.com/SciNim/datamancer/tree/master/src/datamancer.nim#L1" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/SciNim/datamancer/edit/master/src/datamancer.nim#L1" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

    <div id="tocRoot"></div>
    
    <p class="module-desc">
<h1><a class="toc-backref" id="datamancer-overview" href="#datamancer-overview">Datamancer overview</a></h1><p>The <tt class="docutils literal"><span class="pre">datamancer</span></tt> packages is a dataframe library, which (as a companion to <a class="reference external" href="https://github.com/Vindaar/ggplotnim">ggplotnim</a>) is also heavily inspired by a specific R library. In this case <a class="reference external" href="https://dplyr.tidyverse.org/">dplyr</a>, a dataframe library of the tidyverse.</p>
<p>What follows is a basic introduction covering all fundamentals. We won't cover the full API in this document, but rather aim to give the understanding so that using the full library becomes easy.</p>

<h2><a class="toc-backref" id="datamancer-overview-what-is-a-dataframeqmark" href="#datamancer-overview-what-is-a-dataframeqmark">What is a dataframe?</a></h2><p>A dataframe is a data structure that consists of multiple 1 dimensional datasets of equal lengths - but possibly different types - that have names associated to them.</p>
<p>From an abstract perspective it is a set of heterogeneous arrays (array not specifically in terms of CT sized Nim arrays, but as general flat, contiguous data structures) stored in a hash table. Each entry in the table is called a column and the keys represent the column names.</p>
<p>In a sense then they are a data structure similar to what is represented by a spreadsheet or naturally in a CSV file.</p>
<p>One useful distinction about the nature of individual columns of a dataframe is whether the data described in it is continuous (possibly N different values for a dataframe of length N) or discrete (small number of N different values compared to a possibly much larger M number of elements).</p>

<h2><a class="toc-backref" id="datamancer-overview-what-is-the-point-of-a-dataframeqmark" href="#datamancer-overview-what-is-the-point-of-a-dataframeqmark">What is the point of a dataframe?</a></h2><p>A huge amount of data about the real world or most physical systems can be described by individual numbers (scalars) or sets of such. For one system or topic of interest, it is often natural (or slightly less natural, but possible) to express the state of the system by a set of numbers. Let's call that a &quot;record&quot;. From this follows that possibly:</p>
<ul class="simple"><li>a set of such systems</li>
<li>the time evolution of such a system</li>
<li>...</li>
</ul>
<p>can be described by a (possibly ordered) list of such records. Such a list directly represents a dataframe.</p>
<p>What this implies is that as long as we can write down a number of operations we can perform on or with a dataframe, we can apply such operations to a large number of possible systems.</p>
<p>Therefore, dataframes are a very powerful datastructure.</p>
<p>The library inspiring datamancer defines a small set of (base) operations to perform with dataframes. A small number of operations makes it easy to reason about and combine them to produce complex operations.</p>
<p>The five base operations (&quot;the verbs of dplyr&quot;) are:</p>
<ul class="simple"><li><tt class="docutils literal"><span class="pre">mutate</span></tt>: modify an existing column or add a new one</li>
<li><tt class="docutils literal"><span class="pre">select</span></tt>: select a subset of columns</li>
<li><tt class="docutils literal"><span class="pre">filter</span></tt>: filter out a subset of records based on one or more conditions</li>
<li><tt class="docutils literal"><span class="pre">summarize</span></tt>: reduce one or more columns to a single scalar</li>
<li><tt class="docutils literal"><span class="pre">arrange</span></tt>: sort the dataframe according to one or more columns</li>
</ul>
<p>For discrete columns in a dataframe one more procedure is almost as basic, namely <tt class="docutils literal"><span class="pre">group_by</span></tt>. It allows one to iterate over all subsets of a dataframe that have the same value 'x' in a column 'A'.</p>
<p>The five verbs above naturally combine with <tt class="docutils literal"><span class="pre">groub_by</span></tt>. This means if one of these operations is performed on a grouped dataframe, the operation will be performed of each subgroup instead of the full dataframe (which may or may not produce a different result).</p>

<h2><a class="toc-backref" id="datamancer-overview-creating-a-dataframe" href="#datamancer-overview-creating-a-dataframe">Creating a dataframe</a></h2><p>With some understanding of why we might want to bother with dataframes, we can now ask ourselves how to create one.</p>
<p>Usage typically starts with one of the following cases:</p>
<ol class="simple"><li>data already available in <tt class="docutils literal"><span class="pre">seq[T]/Tensor[T]</span></tt> or some Nim object from which such can be created</li>
<li>some CSV / TSV like ascii file or a <tt class="docutils literal"><span class="pre">string</span></tt> representing such a thing</li>
<li>some binary file like HDF5</li>
<li>some database</li>
</ol>
<p>Note about 3 and 4: simple access (without manually reading into a <tt class="docutils literal"><span class="pre">seq[T]/Tensor[T]</span></tt>) is not supported for these two yet. These can be added easily (code for HDF5 exists, but not as part of this repository) if there is demand.</p>

<h3><a class="toc-backref" id="creating-a-dataframe-supported-datatypes-and-internal-representation" href="#creating-a-dataframe-supported-datatypes-and-internal-representation">Supported datatypes and internal representation</a></h3><p>The datamancer dataframes currently support the following types:</p>
<ul class="simple"><li><tt class="docutils literal"><span class="pre">int</span></tt></li>
<li><tt class="docutils literal"><span class="pre">float</span></tt></li>
<li><tt class="docutils literal"><span class="pre">string</span></tt></li>
<li><tt class="docutils literal"><span class="pre">bool</span></tt></li>
<li><tt class="docutils literal"><span class="pre">Value</span></tt></li>
</ul>
<p>where <tt class="docutils literal"><span class="pre">Value</span></tt> is a variant object that can store either of the above datatypes. That type is used in case a single column stores multiple data types.</p>
<p>At this moment there is no direct support for <tt class="docutils literal"><span class="pre">DateTime</span></tt> or <tt class="docutils literal"><span class="pre">Time</span></tt> objects. That could be added if desired. It's a bit of work, but manageable. It's mainly missing, because so far I personally didn't really need it.</p>
<p>Internally, one column is stored in a <tt class="docutils literal"><span class="pre">Column</span></tt> object. This object is a variant object, with different possible <tt class="docutils literal"><span class="pre">ColumnKinds</span></tt> (one kind for each of the native data types). The column stores an <a class="reference external" href="https://github.com/mratsim/Arraymancer">Arraymancer</a> <tt class="docutils literal"><span class="pre">Tensor[T]</span></tt> for the respective type of the column.</p>
<p>The usage of variant objects allows for a fully dynamic, runtime mutable design. This is a trade-off between safety and convenience, which is placed more towards convenience for the simple reason that for often recurring computations of the same kind it is highly recommended to make use of a custom datatype that allows for optimizations applicable to the specific domain.</p>

<h3><a class="toc-backref" id="creating-a-dataframe-from-seq-t-slashtensor-t" href="#creating-a-dataframe-from-seq-t-slashtensor-t">From <tt class="docutils literal"><span class="pre">seq[T]/Tensor[T]</span></tt></a></h3><p>For the case of having the data as <tt class="docutils literal"><span class="pre">seq[T]</span></tt>, we just use the <tt class="docutils literal"><span class="pre">toDf</span></tt> template to create a DF from it. The template does not care whether the input is of type <tt class="docutils literal"><span class="pre">seq[T]</span></tt> or <tt class="docutils literal"><span class="pre">Tensor[T]</span></tt>. In the future support for pointer + length pairs can be added as well.</p>
<p>There are two ways to use <tt class="docutils literal"><span class="pre">toDf</span></tt>. Assuming we have three sequences of possibly different types:</p>
<pre class="listing"><span class="Keyword">let</span> <span class="Identifier">s1</span><span class="Punctuation">:</span> <span class="Identifier">seq</span><span class="Punctuation">[</span><span class="Identifier">int</span><span class="Punctuation">]</span> <span class="Operator">=</span> <span class="Operator">@</span><span class="Punctuation">[</span><span class="DecNumber">22</span><span class="Punctuation">,</span> <span class="DecNumber">54</span><span class="Punctuation">,</span> <span class="DecNumber">34</span><span class="Punctuation">]</span>
<span class="Keyword">let</span> <span class="Identifier">s2</span><span class="Punctuation">:</span> <span class="Identifier">seq</span><span class="Punctuation">[</span><span class="Identifier">float</span><span class="Punctuation">]</span> <span class="Operator">=</span> <span class="Operator">@</span><span class="Punctuation">[</span><span class="FloatNumber">1.87</span><span class="Punctuation">,</span> <span class="FloatNumber">1.75</span><span class="Punctuation">,</span> <span class="FloatNumber">1.78</span><span class="Punctuation">]</span>
<span class="Keyword">let</span> <span class="Identifier">s3</span><span class="Punctuation">:</span> <span class="Identifier">seq</span><span class="Punctuation">[</span><span class="Identifier">string</span><span class="Punctuation">]</span> <span class="Operator">=</span> <span class="Operator">@</span><span class="Punctuation">[</span><span class="StringLit">&quot;Mike&quot;</span><span class="Punctuation">,</span> <span class="StringLit">&quot;Laura&quot;</span><span class="Punctuation">,</span> <span class="StringLit">&quot;Sue&quot;</span><span class="Punctuation">]</span></pre><p>we can either create a DF and let the library automatically deduce the column names from the Nim identifiers of the given variables:</p>
<pre class="listing"><span class="Keyword">let</span> <span class="Identifier">dfAutoNamed</span> <span class="Operator">=</span> <span class="Identifier">toDf</span><span class="Punctuation">(</span><span class="Identifier">s1</span><span class="Punctuation">,</span> <span class="Identifier">s2</span><span class="Punctuation">,</span> <span class="Identifier">s3</span><span class="Punctuation">)</span></pre><p>which will give us a DF with column names:</p>
<pre class="listing"><span class="StringLit">&quot;s1&quot;</span><span class="Punctuation">,</span> <span class="StringLit">&quot;s2&quot;</span><span class="Punctuation">,</span> <span class="StringLit">&quot;s3&quot;</span></pre><p>In many cases one might rather like a different name. In this case use the following syntax:</p>
<pre class="listing"><span class="Keyword">let</span> <span class="Identifier">df</span> <span class="Operator">=</span> <span class="Identifier">toDf</span><span class="Punctuation">(</span><span class="Punctuation">{</span> <span class="StringLit">&quot;Age&quot;</span> <span class="Punctuation">:</span> <span class="Identifier">s1</span><span class="Punctuation">,</span>
                <span class="StringLit">&quot;Height&quot;</span> <span class="Punctuation">:</span> <span class="Identifier">s2</span><span class="Punctuation">,</span>
                <span class="StringLit">&quot;Name&quot;</span> <span class="Punctuation">:</span> <span class="Identifier">s3</span> <span class="Punctuation">}</span><span class="Punctuation">)</span></pre><p>which will then use the given strings for the column names.</p>
<p>If we print this dataframe we get the following output:</p>
<pre>Dataframe with 3 columns and 3 rows:
       Idx       Age    Height      Name
    dtype:       int     float    string
         0        22      1.87      Mike
         1        54      1.75     Laura
         2        34      1.78       Sue</pre>
<p>We see that we get information about:</p>
<ul class="simple"><li>the number of columns in the dataframe</li>
<li>the number of rows in the dataframe</li>
<li>the names of each column</li>
<li>the data types of each column</li>
<li>their values with one record per row</li>
<li>and an additional index column</li>
</ul>

<h3><a class="toc-backref" id="creating-a-dataframe-from-a-csv-slash-tsv-file" href="#creating-a-dataframe-from-a-csv-slash-tsv-file">From a CSV / TSV file</a></h3><p>The second supported case is a CSV like file. For these the library provides a generalized <tt class="docutils literal"><span class="pre">readCsv</span></tt> proc. Strictly speaking it can also read TSV (or any delimited ASCII file) and provides a number of different options to make it suitable to a large variety of differently organized CSV files (what a euphemism):</p>
<pre class="listing"><span class="Keyword">proc</span> <span class="Identifier">readCsv</span><span class="Operator">*</span><span class="Punctuation">(</span><span class="Identifier">fname</span><span class="Punctuation">:</span> <span class="Identifier">string</span><span class="Punctuation">,</span>
              <span class="Identifier">sep</span><span class="Punctuation">:</span> <span class="Identifier">char</span> <span class="Operator">=</span> <span class="CharLit">','</span><span class="Punctuation">,</span>
              <span class="Identifier">header</span><span class="Punctuation">:</span> <span class="Identifier">string</span> <span class="Operator">=</span> <span class="StringLit">&quot;&quot;</span><span class="Punctuation">,</span>
              <span class="Identifier">skipLines</span> <span class="Operator">=</span> <span class="DecNumber">0</span><span class="Punctuation">,</span>
              <span class="Identifier">toSkip</span><span class="Punctuation">:</span> <span class="Identifier">set</span><span class="Punctuation">[</span><span class="Identifier">char</span><span class="Punctuation">]</span> <span class="Operator">=</span> <span class="Punctuation">{</span><span class="Punctuation">}</span><span class="Punctuation">,</span>
              <span class="Identifier">colNames</span><span class="Punctuation">:</span> <span class="Identifier">seq</span><span class="Punctuation">[</span><span class="Identifier">string</span><span class="Punctuation">]</span> <span class="Operator">=</span> <span class="Operator">@</span><span class="Punctuation">[</span><span class="Punctuation">]</span><span class="Punctuation">,</span>
              <span class="Identifier">skipInitialSpace</span> <span class="Operator">=</span> <span class="Identifier">true</span><span class="Punctuation">,</span>
              <span class="Identifier">quote</span> <span class="Operator">=</span> <span class="CharLit">'&quot;'</span><span class="Punctuation">,</span>
             <span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Identifier">DataFrame</span></pre><p>For a regular CSV file (comma separated) with a header line storing the column names, all we need is a filename.</p>
<p>In addition to that the separator can be changed with <tt class="docutils literal"><span class="pre">sep</span></tt> and the header can have a designation (e.g. <tt class="docutils literal"><span class="pre">#</span></tt> indicating header lines that will be skipped automatically after the first).</p>
<p>Further a specific number of lines can be skipped after the header. <tt class="docutils literal"><span class="pre">toSkip</span></tt> allows to skip any set of characters. These will be completely ignored outside of columns.</p>
<p>If the file does not have a header <tt class="docutils literal"><span class="pre">colNames</span></tt> can be used to give names to the columns.</p>
<p><tt class="docutils literal"><span class="pre">skipInitialSpace</span></tt> is useful to remove whitespace that might appear in addition to a separator (e.g. a comma separated file that also has a space after every comma). If it is false such spaces will be parsed into the data fields.</p>
<p>Finally, <tt class="docutils literal"><span class="pre">quote</span></tt> allows to ignore all characters that would otherwise act as separators, line breaks, ... within these. If =&quot;= is used as quote and spaces to separate, there may be spaces within individual fields as long as these are within quotes.</p>
<p>Let's use this procedure to read the supplied <tt class="docutils literal"><span class="pre">mpg</span></tt> dataset:</p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">datamancer</span>
<span class="Keyword">let</span> <span class="Identifier">df</span> <span class="Operator">=</span> <span class="Identifier">readCsv</span><span class="Punctuation">(</span><span class="StringLit">&quot;../data/mpg.csv&quot;</span><span class="Punctuation">)</span></pre><p>We're now proud owner of dataframe that's a bit more exciting than the 3 column / 3 row one from before. We'll explore it in the next section.</p>

<h2><a class="toc-backref" id="datamancer-overview-manipulating-a-df" href="#datamancer-overview-manipulating-a-df">Manipulating a DF</a></h2><p>Now we have a DF. What then?</p>
<p>First of all we can look at it. Echoing a DF calls the <tt class="docutils literal"><span class="pre">pretty</span></tt> proc. For the DF introduced above, this looks like:</p>
<pre class="listing"><span class="Identifier">echo</span> <span class="Identifier">df</span></pre><p>gives for the <tt class="docutils literal"><span class="pre">mpg</span></tt> dataset:</p>
<pre class="listing">#+RESULTS:
Dataframe with 11 columns and 234 rows:
   Idx  manufacturer           model  displ  year  cyl  ...     drv   cty   hwy      fl     class
dtype:        string          string  float   int  int  ...  string   int   int  string    string
     0          audi              a4    1.8  1999    4  ...       f    18    29       p   compact
     1          audi              a4    1.8  1999    4  ...       f    21    29       p   compact
     2          audi              a4      2  2008    4  ...       f    20    31       p   compact
     3          audi              a4      2  2008    4  ...       f    21    30       p   compact
     4          audi              a4    2.8  1999    6  ...       f    16    26       p   compact
     5          audi              a4    2.8  1999    6  ...       f    18    26       p   compact
     6          audi              a4    3.1  2008    6  ...       f    18    27       p   compact
     7          audi      a4 quattro    1.8  1999    4  ...     &quot;4&quot;    18    26       p   compact
     8          audi      a4 quattro    1.8  1999    4  ...     &quot;4&quot;    16    25       p   compact
     9          audi      a4 quattro      2  2008    4  ...     &quot;4&quot;    20    28       p   compact
    10          audi      a4 quattro      2  2008    4  ...     &quot;4&quot;    19    27       p   compact
    11          audi      a4 quattro    2.8  1999    6  ...     &quot;4&quot;    15    25       p   compact
    12          audi      a4 quattro    2.8  1999    6  ...     &quot;4&quot;    17    25       p   compact
    13          audi      a4 quattro    3.1  2008    6  ...     &quot;4&quot;    17    25       p   compact
    14          audi      a4 quattro    3.1  2008    6  ...     &quot;4&quot;    15    25       p   compact
    15          audi      a6 quattro    2.8  1999    6  ...     &quot;4&quot;    15    24       p   midsize
    16          audi      a6 quattro    3.1  2008    6  ...     &quot;4&quot;    17    25       p   midsize
    17          audi      a6 quattro    4.2  2008    8  ...     &quot;4&quot;    16    23       p   midsize
    18     chevrolet c1500 suburb...    5.3  2008    8  ...       r    14    20       r       suv
    19     chevrolet c1500 suburb...    5.3  2008    8  ...       r    11    15       e       suv</pre><p>(NOTE: I shortened the output for the docs here) Notice how in the <tt class="docutils literal"><span class="pre">drv</span></tt> column the 4WD entries are echoed as &quot;4&quot; instead of just 4. That is to highlight that those values are actually stored as strings to not confuse them with numbers.</p>
<p>By default only the first 20 entries will be shown. For more/less elements, call <tt class="docutils literal"><span class="pre">pretty</span></tt> directly:</p>
<pre class="listing"><span class="Identifier">echo</span> <span class="Identifier">df</span><span class="Operator">.</span><span class="Identifier">pretty</span><span class="Punctuation">(</span><span class="DecNumber">100</span><span class="Punctuation">)</span></pre><p><tt class="docutils literal"><span class="pre">pretty</span></tt> also takes a <tt class="docutils literal"><span class="pre">precision</span></tt> argument. This is given to the string conversion for <tt class="docutils literal"><span class="pre">float</span></tt> values to set the number of digits printed after the decimal point. However, it can also be used to change the width of the columns more generally. Note however the precision is added to a width of <tt class="docutils literal"><span class="pre">6</span></tt> by default. Also the column is at least as wide as the longest DF key.</p>
<p>Let's now check which cars in the dataset have the highest and lowest city fuel economy. For that we can simply arrange the dataframe according to the <tt class="docutils literal"><span class="pre">cty</span></tt> column and take the tail or head of the result.</p>
<pre class="listing"><span class="Identifier">echo</span> <span class="Identifier">df</span><span class="Operator">.</span><span class="Identifier">arrange</span><span class="Punctuation">(</span><span class="StringLit">&quot;cty&quot;</span><span class="Punctuation">)</span><span class="Operator">.</span><span class="Identifier">head</span><span class="Punctuation">(</span><span class="DecNumber">5</span><span class="Punctuation">)</span></pre><p>results in:</p>
<pre class="listing">Dataframe with 11 columns and 5 rows:
Idx    manufacturer           model           displ  ...  cyl  ...  drv   cty   hwy      fl    class
dtype:       string          string           float       int    string   int   int  string   string
  0           dodge dakota picku...             4.7  ...    8  ...  &quot;4&quot;     9    12       e   pickup
  1           dodge     durango 4wd             4.7  ...    8  ...  &quot;4&quot;     9    12       e      suv
  2           dodge ram 1500 pic...             4.7  ...    8  ...  &quot;4&quot;     9    12       e   pickup
  3           dodge ram 1500 pic...             4.7  ...    8  ...  &quot;4&quot;     9    12       e   pickup
  4            jeep grand cherok...             4.7  ...    8  ...  &quot;4&quot;     9    12       e      suv</pre><p>and looking at the tail instead:</p>
<pre class="listing"><span class="Identifier">echo</span> <span class="Identifier">df</span><span class="Operator">.</span><span class="Identifier">arrange</span><span class="Punctuation">(</span><span class="StringLit">&quot;cty&quot;</span><span class="Punctuation">)</span><span class="Operator">.</span><span class="Identifier">tail</span><span class="Punctuation">(</span><span class="DecNumber">5</span><span class="Punctuation">)</span></pre><p>will tell us that a new beetle is the most efficient car in the dataset:</p>
<pre class="listing">Dataframe with 11 columns and 5 rows:
Idx    manufacturer           model           displ  ...  cyl  ...  drv   cty   hwy     fl        class
dtype:       string          string           float       int    string   int   int  string      string
  0           honda           civic             1.6  ...    4  ...    f    28    33      r   subcompact
  1          toyota         corolla             1.8  ...    4  ...    f    28    37      r      compact
  2      volkswagen      new beetle             1.9  ...    4  ...    f    29    41      d   subcompact
  3      volkswagen           jetta             1.9  ...    4  ...    f    33    44      d      compact
  4      volkswagen      new beetle             1.9  ...    4  ...    f    35    44      d   subcompact</pre><p>(<tt class="docutils literal"><span class="pre">arrange</span></tt> also takes an order argument, using the Nim stdlib's <tt class="docutils literal"><span class="pre">SortOrder</span></tt> enum).</p>
<p>As another example here to showcase the usage of <tt class="docutils literal"><span class="pre">FormulaNodes</span></tt>, let's find some cars with an engine displacement of more than 5 L and which are 2 seaters (I wonder what car might show up...):</p>
<pre class="listing"><span class="Identifier">echo</span> <span class="Identifier">df</span><span class="Operator">.</span><span class="Identifier">filter</span><span class="Punctuation">(</span><span class="Identifier">f</span><span class="Punctuation">{</span><span class="Punctuation">`</span><span class="Identifier">displ</span><span class="Punctuation">`</span> <span class="Operator">&gt;</span> <span class="FloatNumber">5.0</span> <span class="Keyword">and</span> <span class="Punctuation">`</span><span class="Identifier">class</span><span class="Punctuation">`</span> <span class="Operator">==</span> <span class="StringLit">&quot;2seater&quot;</span><span class="Punctuation">}</span><span class="Punctuation">)</span></pre><pre class="listing">Dataframe with 11 columns and 5 rows:
Idx    manufacturer           model           displ  ...  cyl  ...  drv   cty   hwy     fl     class
dtype:       string          string           float       int    string   int   int string    string
  0       chevrolet        corvette             5.7  ...    8  ...    r    16    26      p   2seater
  1       chevrolet        corvette             5.7  ...    8  ...    r    15    23      p   2seater
  2       chevrolet        corvette             6.2  ...    8  ...    r    16    26      p   2seater
  3       chevrolet        corvette             6.2  ...    8  ...    r    15    25      p   2seater
  4       chevrolet        corvette               7  ...    8  ...    r    15    24      p   2seater</pre><p>Surprise, surprise we found ourselves a bunch of corvettes!</p>
<p>(Note: for an explanation of this mythical <tt class="docutils literal"><span class="pre">f{}</span></tt> thing and those accented quotes, see the <tt class="docutils literal"><span class="pre">Formula</span></tt> section below).</p>
<p>Finally, let's make use of a formula, which takes an assignment. Let's say we want to convert the city fuel economy of the cars from MPG to L/100 km as is the standard in Germany. We'll do this with <tt class="docutils literal"><span class="pre">mutate</span></tt>. <tt class="docutils literal"><span class="pre">mutate</span></tt> will add an additional column to the dataframe. (well, if only it was clear whether the <tt class="docutils literal"><span class="pre">mpg</span></tt> given are US gallon or imperial gallon?)</p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">datamancer</span>
<span class="Keyword">let</span> <span class="Identifier">df</span> <span class="Operator">=</span> <span class="Identifier">readCsv</span><span class="Punctuation">(</span><span class="StringLit">&quot;../data/mpg.csv&quot;</span><span class="Punctuation">)</span>

<span class="Keyword">let</span> <span class="Identifier">dfl100km</span> <span class="Operator">=</span> <span class="Identifier">df</span><span class="Operator">.</span><span class="Identifier">filter</span><span class="Punctuation">(</span><span class="Identifier">f</span><span class="Punctuation">{</span><span class="Punctuation">`</span><span class="Identifier">displ</span><span class="Punctuation">`</span> <span class="Operator">&gt;</span> <span class="FloatNumber">5.0</span> <span class="Keyword">and</span> <span class="Punctuation">`</span><span class="Identifier">class</span><span class="Punctuation">`</span> <span class="Operator">==</span> <span class="StringLit">&quot;2seater&quot;</span><span class="Punctuation">}</span><span class="Punctuation">)</span>
  <span class="Operator">.</span><span class="Identifier">mutate</span><span class="Punctuation">(</span><span class="Identifier">f</span><span class="Punctuation">{</span><span class="StringLit">&quot;cty / L/100km&quot;</span> <span class="Operator">~</span> <span class="DecNumber">235</span> <span class="Operator">/</span> <span class="Punctuation">`</span><span class="Identifier">cty</span><span class="Punctuation">`</span><span class="Punctuation">}</span><span class="Punctuation">)</span>
<span class="Identifier">echo</span> <span class="Identifier">dfl100km</span><span class="Operator">.</span><span class="Identifier">pretty</span><span class="Punctuation">(</span><span class="DecNumber">5</span><span class="Punctuation">)</span></pre><p>shows us:</p>
<pre class="listing">Dataframe with 12 columns and 5 rows:
Idx     manufacturer            model            displ  ...       trans  ...  cty   ...   cty / L/100km
dtype:        string           string            float  ...      string  ...  int   ...           float
  0        chevrolet         corvette              5.7  ...  manual(m6)  ...   16   ...           14.69
  1        chevrolet         corvette              5.7  ...    auto(l4)  ...   15   ...           15.67
  2        chevrolet         corvette              6.2  ...  manual(m6)  ...   16   ...           14.69
  3        chevrolet         corvette              6.2  ...    auto(s6)  ...   15   ...           15.67
  4        chevrolet         corvette                7  ...  manual(m6)  ...   15   ...           15.67</pre><p>where I removed a couple of columns for better visibility again.</p>
<p>I used the chaining of <tt class="docutils literal"><span class="pre">filter</span></tt> and <tt class="docutils literal"><span class="pre">mutate</span></tt> above mainly to showcase that this works reliably.</p>
<p>When looking at the formula above note that as in ggplot2 the tilde ~ is used to indicate a dependency or in other words a mapping of something like Tensor to Tensor.</p>

<h2><a class="toc-backref" id="datamancer-overview-formula" href="#datamancer-overview-formula">Formula</a></h2><p>Here will go parts of what's in the README. </p>
</p>
    <div class="section" id="6">
  <h1><a class="toc-backref" href="#6">Imports</a></h1>
  <dl class="item">
    <a class="reference external" href="dataframe.html">dataframe</a>, <a class="reference external" href="io.html">io</a>
  </dl>
</div>
<div class="section" id="19">
  <h1><a class="toc-backref" href="#19">Exports</a></h1>
  <dl class="item">
    <a href="value.html#[]=,Value,string,Value"><span class="Identifier">[]=</span></a>, <a href="column.html#[]=,Column,int,T"><span class="Identifier">[]=</span></a>, <a href="value.html#/,Value,Value"><span class="Identifier">/</span></a>, <a href="column.html#constantToFull,Column"><span class="Identifier">constantToFull</span></a>, <a href="dataframe.html#drop,DataFrame,varargs[string]"><span class="Identifier">drop</span></a>, <a href="formulaExp.html#sortTypes,seq[NimNode]"><span class="Identifier">sortTypes</span></a>, <a href="column.html#[]=,Column,Slice[int],Tensor[T]"><span class="Identifier">[]=</span></a>, <a href="column.html#lead,Tensor[T],int,T"><span class="Identifier">lead</span></a>, <a href="dataframe.html#filter,DataFrame,varargs[FormulaNode]"><span class="Identifier">filter</span></a>, <a href="dataframe.html#[],DataFrame,HSlice[T,U]"><span class="Identifier">[]</span></a>, <a href="value.html#<=,Value,Value"><span class="Identifier">&lt;=</span></a>, <a href="column.html#withNative2.t,Column,Column,int,int,untyped,untyped,untyped"><span class="Identifier">withNative2</span></a>, <a href="dataframe.html#$.t,DataFrame"><span class="Identifier">$</span></a>, <a href="dataframe.html#group_by,DataFrame,varargs[string]"><span class="Identifier">group_by</span></a>, <a href="value.html#%~,OrderedTable[string,Value]"><span class="Identifier">%~</span></a>, <a href="dataframe.html#contains,DataFrame,string"><span class="Identifier">contains</span></a>, <a href="dataframe.html#isConstant,FormulaNode,DataFrame"><span class="Identifier">isConstant</span></a>, <a href="column.html#toColumn,openArray[T]"><span class="Identifier">toColumn</span></a>, <a href="column.html#toObject,Column"><span class="Identifier">toObject</span></a>, <a href="dataframe.html#newDataFrame,int"><span class="Identifier">newDataFrame</span></a>, <a href="value.html#isNull,Value"><span class="Identifier">isNull</span></a>, <a href="column.html#nativeColKind,Column"><span class="Identifier">nativeColKind</span></a>, <a href="formulaExp.html#hasExplicitTypeHint,NimNode"><span class="Identifier">hasExplicitTypeHint</span></a>, <a href="column.html#map_inline.t,Column,untyped"><span class="Identifier">map_inline</span></a>, <a href="formulaExp.html#parsePreface,NimNode"><span class="Identifier">parsePreface</span></a>, <a href="value.html#convenienceValueComparisons.t"><span class="Identifier">convenienceValueComparisons</span></a>, <a href="formulaExp.html#$,Preface"><span class="Identifier">$</span></a>, <a href="value.html#items.i,Value"><span class="Identifier">items</span></a>, <a href="column.html#asValue,Tensor[T]"><span class="Identifier">asValue</span></a>, <a href="dataframe.html#bind_rows,varargs[],string"><span class="Identifier">bind_rows</span></a>, <a href="column.html#combinedColKind,seq[Column]"><span class="Identifier">combinedColKind</span></a>, <a href="column.html#[]=,Column,Slice[int],Column"><span class="Identifier">[]=</span></a>, <a href="value.html#withNativeConversion.t,ValueKind,untyped,untyped"><span class="Identifier">withNativeConversion</span></a>, <a href="value.html#toFloat,Value,staticbool"><span class="Identifier">toFloat</span></a>, <a href="value.html#isNumber,Value"><span class="Identifier">isNumber</span></a>, <a href="dataframe.html#[],DataFrame,string,int"><span class="Identifier">[]</span></a>, <a href="column.html#%~.t,Value"><span class="Identifier">%~</span></a>, <a href="column.html#isConstant,Column"><span class="Identifier">isConstant</span></a>, <a href="formula.html#raw,FormulaNode"><span class="Identifier">raw</span></a>, <a href="dataframe.html#colMin,DataFrame,string"><span class="Identifier">colMin</span></a>, <a href="dataframe.html#count,DataFrame,string,string"><span class="Identifier">count</span></a>, <a href="dataframe.html#[]=,DataFrame,string,T"><span class="Identifier">[]=</span></a>, <a href="value.html#null"><span class="Identifier">null</span></a>, <a href="value.html#Value"><span class="Identifier">Value</span></a>, <a href="column.html#withNative.t,Column,int,untyped,untyped"><span class="Identifier">withNative</span></a>, <a href="dataframe.html#toTab.m,varargs[untyped]"><span class="Identifier">toTab</span></a>, <a href="formulaExp.html#FormulaKind"><span class="Identifier">FormulaKind</span></a>, <a href="dataframe.html#filterToIdx,DataFrame,T,seq[string]"><span class="Identifier">filterToIdx</span></a>, <a href="dataframe.html#toHashSet,Tensor[T]"><span class="Identifier">toHashSet</span></a>, <a href="dataframe.html#drop,DataFrame,string"><span class="Identifier">drop</span></a>, <a href="column.html#high,Column"><span class="Identifier">high</span></a>, <a href="dataframe.html#reduce,FormulaNode,DataFrame"><span class="Identifier">reduce</span></a>, <a href="column.html#toNativeColumn,openArray[Value]"><span class="Identifier">toNativeColumn</span></a>, <a href="column.html#withNativeDtype.t,Column,untyped"><span class="Identifier">withNativeDtype</span></a>, <a href="column.html#valueTo,Tensor[Value],typedesc[T],staticbool"><span class="Identifier">valueTo</span></a>, <a href="column.html#toObjectColumn,Column"><span class="Identifier">toObjectColumn</span></a>, <a href="dataframe.html#[],DataFrame,Value"><span class="Identifier">[]</span></a>, <a href="value.html#isInt,Value"><span class="Identifier">isInt</span></a>, <a href="dataframe.html#add,DataFrame,T"><span class="Identifier">add</span></a>, <a href="dataframe.html#len,Tensor[T]"><span class="Identifier">len</span></a>, <a href="column.html#add,Column,Column"><span class="Identifier">add</span></a>, <a href="dataframe.html#drop_null,DataFrame,varargs[string],bool"><span class="Identifier">drop_null</span></a>, <a href="column.html#clone,Column"><span class="Identifier">clone</span></a>, <a href="value.html#%~,bool"><span class="Identifier">%~</span></a>, <a href="dataframe.html#high,DataFrame"><span class="Identifier">high</span></a>, <a href="value.html#==,Value,Value"><span class="Identifier">==</span></a>, <a href="dataframe.html#clone,DataFrame"><span class="Identifier">clone</span></a>, <a href="formulaNameMacro.html#buildResultColName,NimNode"><span class="Identifier">buildResultColName</span></a>, <a href="dataframe.html#[],DataFrame,string,typedesc[T]"><span class="Identifier">[]</span></a>, <a href="dataframe.html#[],DataFrame,string"><span class="Identifier">[]</span></a>, <a href="dataframe.html#innerJoin,DataFrame,DataFrame,string"><span class="Identifier">innerJoin</span></a>, <a href="value.html#%~,char"><span class="Identifier">%~</span></a>, <a href="dataframe.html#get,DataFrame,string"><span class="Identifier">get</span></a>, <a href="column.html#nullColumn,int"><span class="Identifier">nullColumn</span></a>, <a href="column.html#lag,Column,int"><span class="Identifier">lag</span></a>, <a href="column.html#newColumn,int"><span class="Identifier">newColumn</span></a>, <a href="value.html#withNative.t,Value,untyped,untyped"><span class="Identifier">withNative</span></a>, <a href="dataframe.html#groups.i,DataFrame"><span class="Identifier">groups</span></a>, <a href="column.html#toTensor,Column,typedesc[T],staticbool"><span class="Identifier">toTensor</span></a>, <a href="dataframe.html#arrange,DataFrame,varargs[string]"><span class="Identifier">arrange</span></a>, <a href="value.html#pretty,Value,int"><span class="Identifier">pretty</span></a>, <a href="dataframe.html#asgn,DataFrame,string,Column"><span class="Identifier">asgn</span></a>, <a href="value.html#%~,SomeInteger"><span class="Identifier">%~</span></a>, <a href="value.html#[],Value,string"><span class="Identifier">[]</span></a>, <a href="dataframe.html#[],DataFrame,string,Slice[int],typedesc[T]"><span class="Identifier">[]</span></a>, <a href="dataframe.html#calcNewColumn,DataFrame,FormulaNode"><span class="Identifier">calcNewColumn</span></a>, <a href="value.html#$.t,Value"><span class="Identifier">$</span></a>, <a href="value.html#toValKind,typedesc[T]"><span class="Identifier">toValKind</span></a>, <a href="value.html#almostEqual,float,float,float"><span class="Identifier">almostEqual</span></a>, <a href="dataframe.html#transmuteInplace,DataFrame,varargs[FormulaNode]"><span class="Identifier">transmuteInplace</span></a>, <a href="dataframe.html#transmute,DataFrame,varargs[FormulaNode]"><span class="Identifier">transmute</span></a>, <a href="column.html#toColumn,Tensor[T: float or float32 or float64 or int or int8 or int16 or int32 or int64 or uint or uint8 or uint16 or uint32 or uint64 or string or bool or Value]"><span class="Identifier">toColumn</span></a>, <a href="column.html#withDtypeByColKind.t,ColKind,untyped"><span class="Identifier">withDtypeByColKind</span></a>, <a href="column.html#toNativeColumn,Column,staticbool"><span class="Identifier">toNativeColumn</span></a>, <a href="formula.html#FormulaNode"><span class="Identifier">FormulaNode</span></a>, <a href="dataframe.html#keys.i,DataFrame"><span class="Identifier">keys</span></a>, <a href="dataframe.html#[],DataFrame,string,Slice[int]"><span class="Identifier">[]</span></a>, <a href="dataframe.html#relocate,DataFrame,seq[T]"><span class="Identifier">relocate</span></a>, <a href="column.html#ColKind"><span class="Identifier">ColKind</span></a>, <a href="dataframe.html#head,DataFrame,int"><span class="Identifier">head</span></a>, <a href="value.html#+,Value,Value"><span class="Identifier">+</span></a>, <a href="value.html#isNumber,string"><span class="Identifier">isNumber</span></a>, <a href="value.html#%~,SomeFloat"><span class="Identifier">%~</span></a>, <a href="dataframe.html#[]=,DataFrame,FormulaNode,string,T"><span class="Identifier">[]=</span></a>, <a href="dataframe.html#[]=,DataFrame,string,T_2"><span class="Identifier">[]=</span></a>, <a href="dataframe.html#pretty,DataFrame,int,int"><span class="Identifier">pretty</span></a>, <a href="dataframe.html#[],DataFrame,array[,int]"><span class="Identifier">[]</span></a>, <a href="dataframe.html#row,DataFrame,int,varargs[string]"><span class="Identifier">row</span></a>, <a href="value.html#<,Value,Value"><span class="Identifier">&lt;</span></a>, <a href="dataframe.html#evaluate,FormulaNode,DataFrame"><span class="Identifier">evaluate</span></a>, <a href="dataframe.html#setDiff,DataFrame,DataFrame"><span class="Identifier">setDiff</span></a>, <a href="column.html#compatibleColumns,Column,Column"><span class="Identifier">compatibleColumns</span></a>, <a href="column.html#toColKind,ValueKind"><span class="Identifier">toColKind</span></a>, <a href="value.html#-,Value,Value"><span class="Identifier">-</span></a>, <a href="dataframe.html#extendShortColumns,DataFrame"><span class="Identifier">extendShortColumns</span></a>, <a href="value.html#%~,openArray[T]"><span class="Identifier">%~</span></a>, <a href="formulaExp.html#DtypesAll"><span class="Identifier">DtypesAll</span></a>, <a href="value.html#%~,string"><span class="Identifier">%~</span></a>, <a href="dataframe.html#dataFrame.t,varargs[untyped]"><span class="Identifier">dataFrame</span></a>, <a href="formula.html#formula.m,untyped"><span class="Identifier">formula</span></a>, <a href="formulaExp.html#HeuristicType"><span class="Identifier">HeuristicType</span></a>, <a href="formulaExp.html#fkVariable"><span class="Identifier">fkVariable</span></a>, <a href="value.html#contains,Value,string"><span class="Identifier">contains</span></a>, <a href="value.html#hash,Value"><span class="Identifier">hash</span></a>, <a href="formulaExp.html#isValidType,NimNode"><span class="Identifier">isValidType</span></a>, <a href="column.html#lag,Tensor[T],int,T"><span class="Identifier">lag</span></a>, <a href="formulaExp.html#fkVector"><span class="Identifier">fkVector</span></a>, <a href="column.html#constantColumn,T,int"><span class="Identifier">constantColumn</span></a>, <a href="dataframe.html#selectInplace,DataFrame,varargs[T]"><span class="Identifier">selectInplace</span></a>, <a href="formula.html#hash,FormulaNode"><span class="Identifier">hash</span></a>, <a href="column.html#Column"><span class="Identifier">Column</span></a>, <a href="dataframe.html#assignStack,seq[DataFrame]"><span class="Identifier">assignStack</span></a>, <a href="formulaExp.html#nodeIsDf,NimNode"><span class="Identifier">nodeIsDf</span></a>, <a href="formulaExp.html#generateClosure,FormulaCT"><span class="Identifier">generateClosure</span></a>, <a href="column.html#toNimType,ColKind"><span class="Identifier">toNimType</span></a>, <a href="formula.html#$,FormulaNode"><span class="Identifier">$</span></a>, <a href="df_types.html#DataFrameKind"><span class="Identifier">DataFrameKind</span></a>, <a href="dataframe.html#items.i,DataFrame"><span class="Identifier">items</span></a>, <a href="formulaExp.html#DtypeOrderMap"><span class="Identifier">DtypeOrderMap</span></a>, <a href="formula.html#{}.m,,untyped"><span class="Identifier">{}</span></a>, <a href="formulaNameMacro.html#buildName,NimNode"><span class="Identifier">buildName</span></a>, <a href="value.html#ValueKind"><span class="Identifier">ValueKind</span></a>, <a href="value.html#*,Value,Value"><span class="Identifier">*</span></a>, <a href="formulaExp.html#AssignKind"><span class="Identifier">AssignKind</span></a>, <a href="formulaExp.html#fkAssign"><span class="Identifier">fkAssign</span></a>, <a href="dataframe.html#bind_rows.t,varargs[DataFrame],string"><span class="Identifier">bind_rows</span></a>, <a href="value.html#toStr,Value"><span class="Identifier">toStr</span></a>, <a href="column.html#[],Column,int,typedesc[T]"><span class="Identifier">[]</span></a>, <a href="dataframe.html#tail,DataFrame,int"><span class="Identifier">tail</span></a>, <a href="dataframe.html#isColumn,FormulaNode,DataFrame"><span class="Identifier">isColumn</span></a>, <a href="value.html#toObject"><span class="Identifier">toObject</span></a>, <a href="dataframe.html#mutateInplace,DataFrame,varargs[FormulaNode]"><span class="Identifier">mutateInplace</span></a>, <a href="column.html#equal,Column,int,Column,int"><span class="Identifier">equal</span></a>, <a href="dataframe.html#select,DataFrame,varargs[T]"><span class="Identifier">select</span></a>, <a href="formulaExp.html#TypeHint"><span class="Identifier">TypeHint</span></a>, <a href="column.html#toValueKind,Column"><span class="Identifier">toValueKind</span></a>, <a href="value.html#toInt,Value"><span class="Identifier">toInt</span></a>, <a href="dataframe.html#[]=,DataFrame,string,Column"><span class="Identifier">[]=</span></a>, <a href="column.html#pretty,Column"><span class="Identifier">pretty</span></a>, <a href="column.html#toColKind,typedesc[T]"><span class="Identifier">toColKind</span></a>, <a href="value.html#keys.i,Value"><span class="Identifier">keys</span></a>, <a href="df_types.html#DataFrame"><span class="Identifier">DataFrame</span></a>, <a href="value.html#contains,Value,Value"><span class="Identifier">contains</span></a>, <a href="value.html#to,Value,typedesc[T]"><span class="Identifier">to</span></a>, <a href="formulaExp.html#nodeIsDfIdx,NimNode"><span class="Identifier">nodeIsDfIdx</span></a>, <a href="column.html#contains,Column,T"><span class="Identifier">contains</span></a>, <a href="value.html#%~.t,openArray[Value]"><span class="Identifier">%~</span></a>, <a href="column.html#toTensor,Column,Slice[int],typedesc[T]"><span class="Identifier">toTensor</span></a>, <a href="formulaExp.html#extractCall,NimNode,string"><span class="Identifier">extractCall</span></a>, <a href="column.html#[],Column,Slice[int]"><span class="Identifier">[]</span></a>, <a href="formula.html#fn.m,untyped"><span class="Identifier">fn</span></a>, <a href="dataframe.html#evaluate,FormulaNode"><span class="Identifier">evaluate</span></a>, <a href="dataframe.html#valTabToDf,OrderedTable[string,seq[Value]]"><span class="Identifier">valTabToDf</span></a>, <a href="column.html#toValueKind,ColKind"><span class="Identifier">toValueKind</span></a>, <a href="dataframe.html#[],DataFrame,string,int,typedesc[T]"><span class="Identifier">[]</span></a>, <a href="dataframe.html#withCombinedType.t,DataFrame,seq[string],untyped"><span class="Identifier">withCombinedType</span></a>, <a href="dataframe.html#ncols.t,DataFrame"><span class="Identifier">ncols</span></a>, <a href="dataframe.html#toDf.t,varargs[untyped]"><span class="Identifier">toDf</span></a>, <a href="formulaExp.html#fkNone"><span class="Identifier">fkNone</span></a>, <a href="value.html#largerOrFalse,Value,float"><span class="Identifier">largerOrFalse</span></a>, <a href="value.html#newVObject,int"><span class="Identifier">newVObject</span></a>, <a href="column.html#withNativeTensor.t,Column,untyped,untyped"><span class="Identifier">withNativeTensor</span></a>, <a href="column.html#lead,Column,int"><span class="Identifier">lead</span></a>, <a href="formulaExp.html#Assign"><span class="Identifier">Assign</span></a>, <a href="formulaExp.html#fkScalar"><span class="Identifier">fkScalar</span></a>, <a href="formulaExp.html#sortTypes,seq[string]"><span class="Identifier">sortTypes</span></a>, <a href="formula.html#compileFormulaImpl.m,staticstring,staticFormulaKind"><span class="Identifier">compileFormulaImpl</span></a>, <a href="value.html#isBool,string"><span class="Identifier">isBool</span></a>, <a href="column.html#toColumn,T"><span class="Identifier">toColumn</span></a>, <a href="value.html#toObject,seq[]"><span class="Identifier">toObject</span></a>, <a href="dataframe.html#rename,DataFrame,varargs[FormulaNode]"><span class="Identifier">rename</span></a>, <a href="column.html#$.t,Column"><span class="Identifier">$</span></a>, <a href="formulaExp.html#toStrType,NimNode"><span class="Identifier">toStrType</span></a>, <a href="dataframe.html#[]=,DataFrame,string,int,T"><span class="Identifier">[]=</span></a>, <a href="column.html#map,Column,"><span class="Identifier">map</span></a>, <a href="dataframe.html#add.t,DataFrame,varargs[untyped]"><span class="Identifier">add</span></a>, <a href="dataframe.html#ValueNull"><span class="Identifier">ValueNull</span></a>, <a href="dataframe.html#summarize,DataFrame,varargs[FormulaNode]"><span class="Identifier">summarize</span></a>, <a href="dataframe.html#strTabToDf,OrderedTable[string,seq[string]]"><span class="Identifier">strTabToDf</span></a>, <a href="value.html#pairs.i,Value"><span class="Identifier">pairs</span></a>, <a href="dataframe.html#spread,DataFrame,string,string,T"><span class="Identifier">spread</span></a>, <a href="value.html#smallerOrFalse,Value,float"><span class="Identifier">smallerOrFalse</span></a>, <a href="formulaExp.html#Lift"><span class="Identifier">Lift</span></a>, <a href="dataframe.html#relocate,DataFrame,varargs[T],string,string"><span class="Identifier">relocate</span></a>, <a href="dataframe.html#shallowCopy,DataFrame"><span class="Identifier">shallowCopy</span></a>, <a href="column.html#max,Column"><span class="Identifier">max</span></a>, <a href="value.html#isInt,string"><span class="Identifier">isInt</span></a>, <a href="dataframe.html#calcNewConstColumnFromScalar,DataFrame,FormulaNode"><span class="Identifier">calcNewConstColumnFromScalar</span></a>, <a href="formulaExp.html#isColumnType,NimNode"><span class="Identifier">isColumnType</span></a>, <a href="formulaExp.html#Preface"><span class="Identifier">Preface</span></a>, <a href="formula.html#FormulaMismatchError"><span class="Identifier">FormulaMismatchError</span></a>, <a href="dataframe.html#unique,DataFrame,varargs[string]"><span class="Identifier">unique</span></a>, <a href="formulaExp.html#FormulaCT"><span class="Identifier">FormulaCT</span></a>, <a href="column.html#liftScalarToColumn.t,untyped"><span class="Identifier">liftScalarToColumn</span></a>, <a href="dataframe.html#values.i,DataFrame,varargs[string]"><span class="Identifier">values</span></a>, <a href="column.html#toColumn.t,Column"><span class="Identifier">toColumn</span></a>, <a href="dataframe.html#mutate,DataFrame,varargs[FormulaNode]"><span class="Identifier">mutate</span></a>, <a href="dataframe.html#add,DataFrame,DataFrame"><span class="Identifier">add</span></a>, <a href="dataframe.html#seqsToDf.t,varargs[untyped]"><span class="Identifier">seqsToDf</span></a>, <a href="value.html#toBool,Value"><span class="Identifier">toBool</span></a>, <a href="formula.html#toUgly,string,FormulaNode"><span class="Identifier">toUgly</span></a>, <a href="dataframe.html#gather,DataFrame,varargs[string],string,string"><span class="Identifier">gather</span></a>, <a href="dataframe.html#getKeys,DataFrame"><span class="Identifier">getKeys</span></a>, <a href="dataframe.html#unique,Column"><span class="Identifier">unique</span></a>, <a href="dataframe.html#colMax,DataFrame,string"><span class="Identifier">colMax</span></a>, <a href="dataframe.html#colsToDf.t,varargs[untyped]"><span class="Identifier">colsToDf</span></a>, <a href="formulaExp.html#Dtypes"><span class="Identifier">Dtypes</span></a>, <a href="formulaExp.html#FormulaTypes"><span class="Identifier">FormulaTypes</span></a>, <a href="io.html#writeCsv,DataFrame,string,char,string,int"><span class="Identifier">writeCsv</span></a>, <a href="io.html#readCsv,Stream,char,string,int,seq[string],string"><span class="Identifier">readCsv</span></a>, <a href="io.html#parseCsvString,string,char,string,int,set[char],seq[string],char,int,char,char"><span class="Identifier">parseCsvString</span></a>, <a href="io.html#readCsvAlt,string,char,string,int,seq[string]"><span class="Identifier">readCsvAlt</span></a>, <a href="io.html#readCsv,string,char,string,int,set[char],seq[string],char,int,char,char"><span class="Identifier">readCsv</span></a>, <a href="io.html#showBrowser,DataFrame,string"><span class="Identifier">showBrowser</span></a>
  </dl>
</div>

  </div>
</div>

      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br>
        <small style="color: var(--hint);">Made with Nim. Generated: 2022-07-28 17:15:38 UTC</small>
      </div>
    </div>
  </div>
  
</body>
</html>
